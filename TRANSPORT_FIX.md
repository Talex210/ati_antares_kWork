# üöõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–∞ ATI.SU (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ –∑–∞–∫—Ä—ã—Ç—ã–µ —Ç–∏–ø—ã –∏–ª–∏ "–Ω–µ–≥–∞–±–∞—Ä–∏—Ç"), –≤ Telegram –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è "–ù–µ —É–∫–∞–∑–∞–Ω".

## –ü—Ä–∏—á–∏–Ω–∞

API ATI.SU –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–µ `Transport.CarType` –∫–∞–∫:
- **–ß–∏—Å–ª–æ** - –∫–æ–≥–¥–∞ –≤—ã–±—Ä–∞–Ω –æ–¥–∏–Ω —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- **–ú–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª** - –∫–æ–≥–¥–∞ –≤—ã–±—Ä–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤

–°—Ç–∞—Ä—ã–π –∫–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã TypeScript —Ç–∏–ø—ã

```typescript
// src/core/types.ts
Transport: {
  CarType: number | number[]; // –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã
  LoadingType?: number;
  LoadingLogicalOperator?: string;
  UnloadingType?: number;
  UnloadingLogicalOperator?: string;
  // ...
}
```

### 2. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å —Å–ª–æ–≤–∞—Ä–µ–π

–§–∞–π–ª `src/core/dictionaries.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (22 —Ç–∏–ø–∞, –≤–∫–ª—é—á–∞—è "–ù–µ–≥–∞–±–∞—Ä–∏—Ç")
- –°–ª–æ–≤–∞—Ä—å —Ç–∏–ø–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏/—Ä–∞–∑–≥—Ä—É–∑–∫–∏
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤ —Ç–∏–ø–æ–≤

### 3. –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

```typescript
function getCarTypeName(carType: number | number[]): string {
  // –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π
  if (Array.isArray(carType) && carType.length === 0) {
    return '–ù–µ —É–∫–∞–∑–∞–Ω';
  }
  
  // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –º–Ω–æ–≥–æ —Ç–∏–ø–æ–≤ (>3)
  if (Array.isArray(carType) && carType.length > 3) {
    if (carType.includes(22)) return '–ù–µ–≥–∞–±–∞—Ä–∏—Ç';
    if (–≤—Å–µ_–∑–∞–∫—Ä—ã—Ç—ã–µ_—Ç–∏–ø—ã) return '–ó–∞–∫—Ä—ã—Ç—ã–π —Ç–∏–ø';
    return '–†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã';
  }
  
  // –ï—Å–ª–∏ 1-3 —Ç–∏–ø–∞ - –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º
  if (Array.isArray(carType)) {
    return carType.map(type => CAR_TYPES[type]).join(', ');
  }
  
  // –û–¥–∏–Ω–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  return CAR_TYPES[carType] || '–ù–µ —É–∫–∞–∑–∞–Ω';
}
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω —Å–ø–æ—Å–æ–± –∑–∞–≥—Ä—É–∑–∫–∏/—Ä–∞–∑–≥—Ä—É–∑–∫–∏

–í–º–µ—Å—Ç–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –±—ã–ª 0¬∞C...0¬∞C) —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
```
üì¶ –ó–∞–≥—Ä—É–∑–∫–∞: –ó–∞–¥–Ω—è—è | –†–∞–∑–≥—Ä—É–∑–∫–∞: –ë–æ–∫–æ–≤–∞—è
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–°–æ–∑–¥–∞–Ω `scripts/debug-transport.js` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```bash
npm run debug:transport
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª—è `Transport` –¥–ª—è –ø–µ—Ä–≤—ã—Ö 10 –≥—Ä—É–∑–æ–≤
- –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ `CarType` —á–∏—Å–ª–æ–º –∏–ª–∏ –º–∞—Å—Å–∏–≤–æ–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º –≥—Ä—É–∑–∞–º
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üöõ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –ù–µ —É–∫–∞–∑–∞–Ω
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

–û–¥–∏–Ω —Ç–∏–ø:
```
üöõ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –¢–µ–Ω—Ç
```

–ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ (1-3):
```
üöõ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –¢–µ–Ω—Ç, –†–µ—Ñ, –ò–∑–æ—Ç–µ—Ä–º
```

–ú–Ω–æ–≥–æ —Ç–∏–ø–æ–≤ (>3):
```
üöõ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –ó–∞–∫—Ä—ã—Ç—ã–π —Ç–∏–ø
```

–ù–µ–≥–∞–±–∞—Ä–∏—Ç:
```
üöõ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –ù–µ–≥–∞–±–∞—Ä–∏—Ç
   üì¶ –ó–∞–≥—Ä—É–∑–∫–∞: –í–µ—Ä—Ö–Ω—è—è | –†–∞–∑–≥—Ä—É–∑–∫–∞: –ë–æ–∫–æ–≤–∞—è
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
npm run build
npm start

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /root/ati_antares_kWork
git pull
npm install
npm run build
pm2 restart ati-bot
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ—Ç–ª–∞–¥–∫–∏: `npm run debug:transport`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs ati-bot`
3. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä—É–∑ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- ‚úÖ –£–±—Ä–∞–Ω —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Ä–µ–∂–∏–º (—á–∞—Å—Ç–æ –±—ã–ª 0¬∞C...0¬∞C)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å–ø–æ—Å–æ–± –∑–∞–≥—Ä—É–∑–∫–∏/—Ä–∞–∑–≥—Ä—É–∑–∫–∏
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω —Å–ª–æ–≤–∞—Ä—å —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–æ 22 —Ç–∏–ø–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ —Ç–∏–ø–æ–≤
- ‚úÖ –£–º–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –≤—ã–±–æ—Ä–µ

## –°–ª–æ–≤–∞—Ä—å —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ |
|----|----------|
| 1  | –¢–µ–Ω—Ç |
| 2  | –†–µ—Ñ |
| 3  | –ò–∑–æ—Ç–µ—Ä–º |
| 4  | –ë–æ—Ä—Ç–æ–≤–æ–π |
| 5  | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤–æ–∑ |
| 6  | –ê–≤—Ç–æ–≤–æ–∑ |
| 7  | –¶–∏—Å—Ç–µ—Ä–Ω–∞ |
| 8  | –°–∞–º–æ—Å–≤–∞–ª |
| 9  | –ù–∏–∑–∫–æ—Ä–∞–º–Ω–∏–∫ |
| 10 | –§—É—Ä–≥–æ–Ω |
| 11 | –ê–≤—Ç–æ–±—É—Å |
| 12 | –ú–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä |
| 13 | –≠–≤–∞–∫—É–∞—Ç–æ—Ä |
| 14 | –ê–≤—Ç–æ–∫—Ä–∞–Ω |
| 15 | –ë–µ—Ç–æ–Ω–æ—Å–º–µ—Å–∏—Ç–µ–ª—å |
| 16 | –ë–µ—Ç–æ–Ω–æ–Ω–∞—Å–æ—Å |
| 17 | –ó–µ—Ä–Ω–æ–≤–æ–∑ |
| 18 | –õ–µ—Å–æ–≤–æ–∑ |
| 19 | –°–∫–æ—Ç–æ–≤–æ–∑ |
| 20 | –¢—Ä–∞–ª |
| 21 | –ê–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ—Ä |
| 22 | –ù–µ–≥–∞–±–∞—Ä–∏—Ç |

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é  
**–î–∞—Ç–∞:** 15 –Ω–æ—è–±—Ä—è 2025
