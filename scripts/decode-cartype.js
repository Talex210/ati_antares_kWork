// scripts/decode-cartype.js
// –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏—Ç–æ–≤–æ–π –º–∞—Å–∫–∏ CarType

const carTypes = {
  1: '–¢–µ–Ω—Ç', 2: '–†–µ—Ñ', 3: '–ò–∑–æ—Ç–µ—Ä–º', 4: '–ë–æ—Ä—Ç–æ–≤–æ–π',
  5: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤–æ–∑', 6: '–ê–≤—Ç–æ–≤–æ–∑', 7: '–¶–∏—Å—Ç–µ—Ä–Ω–∞',
  8: '–°–∞–º–æ—Å–≤–∞–ª', 9: '–ù–∏–∑–∫–æ—Ä–∞–º–Ω–∏–∫', 10: '–§—É—Ä–≥–æ–Ω',
  11: '–ê–≤—Ç–æ–±—É—Å', 12: '–ú–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä', 13: '–≠–≤–∞–∫—É–∞—Ç–æ—Ä',
  14: '–ê–≤—Ç–æ–∫—Ä–∞–Ω', 15: '–ë–µ—Ç–æ–Ω–æ—Å–º–µ—Å–∏—Ç–µ–ª—å', 16: '–ë–µ—Ç–æ–Ω–æ–Ω–∞—Å–æ—Å',
  17: '–ó–µ—Ä–Ω–æ–≤–æ–∑', 18: '–õ–µ—Å–æ–≤–æ–∑', 19: '–°–∫–æ—Ç–æ–≤–æ–∑',
  20: '–¢—Ä–∞–ª', 21: '–ê–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ—Ä', 22: '–ù–µ–≥–∞–±–∞—Ä–∏—Ç'
};

function decodeCarType(carType) {
  // –ï—Å–ª–∏ —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —á–∏—Å–ª–æ (1-100), —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ ID —Ç–∏–ø–∞
  if (carType <= 100) {
    return [carType];
  }
  
  // –ï—Å–ª–∏ —ç—Ç–æ –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ, —ç—Ç–æ –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞
  const types = [];
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –±–∏—Ç (–æ—Ç 0 –¥–æ 63)
  for (let bit = 0; bit < 64; bit++) {
    const mask = Math.pow(2, bit);
    if ((carType & mask) !== 0) {
      // –ë–∏—Ç –≤–∫–ª—é—á–µ–Ω, –¥–æ–±–∞–≤–ª—è–µ–º —Ç–∏–ø (bit + 1, —Ç–∞–∫ –∫–∞–∫ —Ç–∏–ø—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 1)
      types.push(bit + 1);
    }
  }
  
  return types;
}

// –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–∑ –≤—ã–≤–æ–¥–∞
const examples = [
  18726594281984,
  844424930131980,
  70368744191105,
  89095338473088,
  256,
  1, // –æ–±—ã—á–Ω—ã–π —Ç–∏–ø
  4  // –æ–±—ã—á–Ω—ã–π —Ç–∏–ø
];

console.log('üîç –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ CarType:\n');

examples.forEach(carType => {
  const types = decodeCarType(carType);
  const names = types.map(t => carTypes[t] || `–¢–∏–ø ${t}`).join(', ');
  
  console.log(`CarType: ${carType}`);
  console.log(`  –ë–∏—Ç—ã: [${types.join(', ')}]`);
  console.log(`  –¢–∏–ø—ã: ${names}`);
  console.log(`  –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${types.length}`);
  console.log('');
});
